{% extends "base.html" %}
{% block content %}

<h2>{{ titulo }}</h2>

<form method="post">

  <div class="mb-3">
    <label class="form-label">Nome da Turma</label>
    <input type="text"
           name="nome"
           class="form-control"
           value="{{ turma.nome if turma else '' }}"
           required>
  </div>

  <div class="mb-3">
    <label class="form-label">Tipo de Turma</label>
    <select name="tipo" class="form-control">
      <option value="regular"
        {% if (turma and turma.tipo == "regular") or not turma %}selected{% endif %}>
        Regular
      </option>
      <option value="profissional"
        {% if turma and turma.tipo == "profissional" %}selected{% endif %}>
        Profissional
      </option>
    </select>
  </div>

  <div class="mb-3">
   <h5 class="mt-4">Carga horária semanal</h5>
<p class="text-muted small">(em horas ou blocos; opcional)</p>

<div class="row">
  <div class="col-md-2">
    <label>Segunda</label>
    <input type="number" step="0.5" min="0" class="form-control"
           name="carga_segunda"
           value="{{ turma.carga_segunda if turma else '' }}">
  </div>

  <div class="col-md-2">
    <label>Terça</label>
    <input type="number" step="0.5" min="0" class="form-control"
           name="carga_terca"
           value="{{ turma.carga_terca if turma else '' }}">
  </div>

  <div class="col-md-2">
    <label>Quarta</label>
    <input type="number" step="0.5" min="0" class="form-control"
           name="carga_quarta"
           value="{{ turma.carga_quarta if turma else '' }}">
  </div>

  <div class="col-md-2">
    <label>Quinta</label>
    <input type="number" step="0.5" min="0" class="form-control"
           name="carga_quinta"
           value="{{ turma.carga_quinta if turma else '' }}">
  </div>

  <div class="col-md-2">
    <label>Sexta</label>
    <input type="number" step="0.5" min="0" class="form-control"
           name="carga_sexta"
           value="{{ turma.carga_sexta if turma else '' }}">
  </div>
</div>

  </div>

  <div class="mb-3">
    <label class="form-label">Ano Letivo</label>
    <input type="text"
           class="form-control"
           value="{% if turma and turma.ano_letivo %}
                    {{ turma.ano_letivo.nome }}
                  {% elif ano_atual %}
                    {{ ano_atual.nome }}
                  {% else %}
                    (sem ano letivo)
                  {% endif %}"
           disabled>
  </div>

  <button type="submit" class="btn btn-success">Guardar</button>
  <a href="{{ url_for('turmas_list') }}" class="btn btn-secondary">Cancelar</a>
</form>

{% endblock %}
